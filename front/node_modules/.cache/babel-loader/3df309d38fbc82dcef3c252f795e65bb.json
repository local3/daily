{"ast":null,"code":"var _jsxFileName = \"/app/src/pages/Signup.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { AuthContext } from \"../Auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Signup() {\n  _s();\n\n  const auth = useContext(AuthContext); // console.log(\"Signup Component\")\n  // console.log(auth)\n\n  const initUser = {\n    email: '',\n    password: '',\n    passwordConfirmation: '',\n    languageId: 1\n  };\n  const [user, setUser] = useState(initUser);\n  const [languages, setLanguages] = useState([]);\n\n  const componentDidMount = () => {\n    axios.get(`/languages`).then(res => {\n      const languages = res.data;\n      setLanguages(languages); // console.log(languages)\n    });\n    axios.get(`/current_user`).then(res => {\n      const currentUser = res.data; // this.setState({ currentUser });\n      // console.log(currentUser)\n    });\n  };\n\n  useEffect(componentDidMount, []);\n\n  const handleChangeEmail = e => {\n    // console.log(e);\n    setUser({ ...user,\n      email: e.target.value\n    });\n  };\n\n  const handleChangePassword = e => {\n    setUser({ ...user,\n      password: e.target.value\n    });\n  };\n\n  const handleChangePasswordConfirmation = e => {\n    setUser({ ...user,\n      passwordConfirmation: e.target.value\n    });\n  };\n\n  const handleChangeLanguage = e => {\n    // console.log(e);\n    setUser({ ...user,\n      languageId: e.target.value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault(); // console.log(user);\n\n    axios.post(`/users`, {\n      user: user\n    }).then(res => {// console.log(res);\n      // console.log(res.data);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u4F1A\\u54E1\\u767B\\u9332\\u30DA\\u30FC\\u30B8\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\\uFF1A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"email\",\n        onChange: handleChangeEmail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\uFF1A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"password\",\n        onChange: handleChangePassword\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u78BA\\u8A8D\\u7528\\uFF1A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"password_confirmation\",\n        onChange: handleChangePasswordConfirmation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u8A00\\u8A9E\\u9078\\u629E\\uFF1A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: handleChangeLanguage,\n        children: languages.map(language => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: language.id,\n          children: language.name\n        }, language.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"\\u4F1A\\u54E1\\u767B\\u9332\\u3059\\u308B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Signup, \"60dTff8k85Hjw6OR/03fAGI6Sc0=\");\n\n_c = Signup;\nexport default Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["/app/src/pages/Signup.js"],"names":["React","useState","useEffect","useContext","axios","Link","AuthContext","Signup","auth","initUser","email","password","passwordConfirmation","languageId","user","setUser","languages","setLanguages","componentDidMount","get","then","res","data","currentUser","handleChangeEmail","e","target","value","handleChangePassword","handleChangePasswordConfirmation","handleChangeLanguage","handleSubmit","preventDefault","post","map","language","id","name"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useContext} from 'react'\nimport axios from 'axios';\nimport { Link } from 'react-router-dom'\nimport { AuthContext } from \"../Auth\";\n\nfunction Signup() {\n  const auth = useContext(AuthContext);\n  // console.log(\"Signup Component\")\n  // console.log(auth)\n\n  const initUser =\n      {\n        email: '',\n        password: '',\n        passwordConfirmation: '',\n        languageId: 1\n      }\n  \n  const [user, setUser] = useState(initUser);\n  const [languages, setLanguages] = useState([])  \n\n  const componentDidMount = () => {\n    axios.get(`/languages`)\n      .then(res => {\n        const languages = res.data;\n        setLanguages(languages);\n        // console.log(languages)\n      })\n\n    axios.get(`/current_user`)\n      .then(res => {\n        const currentUser = res.data;\n        // this.setState({ currentUser });\n        // console.log(currentUser)\n      })\n  }\n\n  useEffect(componentDidMount, [])\n\n  const handleChangeEmail = (e) => {\n\t\t// console.log(e);\n    setUser(\n      {\n\t\t\t\t...user,\n\t\t\t\temail: e.target.value\n\t\t\t}\n    );\n  };\n\n  const handleChangePassword = (e) => {\n    setUser(\n\t\t\t{\n\t\t\t\t...user,\n\t\t\t\tpassword: e.target.value\n\t\t\t}\n    );\n  };\n\n  const handleChangePasswordConfirmation = (e) => {\n    setUser(\n\t\t\t{\n\t\t\t\t...user,\n\t\t\t\tpasswordConfirmation: e.target.value\n\t\t\t}\n    );\n  };\n\n  const handleChangeLanguage = (e) => {\n\t\t// console.log(e);\n    setUser(\n\t\t\t{\n\t\t\t\t...user,\n\t\t\t\tlanguageId: e.target.value\n\t\t\t}\n    );\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n\t\t// console.log(user);\n\n    axios.post(`/users`, {user: user})\n      .then(res => {\n        // console.log(res);\n        // console.log(res.data);\n      })\n  }\n\n  return(\n    <div>\n      <h1>会員登録ページ</h1>\n      <form onSubmit={handleSubmit}>\n        <label>メールアドレス：</label>\n        <input type=\"text\"\n          name=\"email\"  \n          onChange={handleChangeEmail}\n        />\n\n        <br/>\n\n        <label>パスワード：</label>\n        <input type=\"text\"\n          name=\"password\"  \n          onChange={handleChangePassword}\n        />\n\n        <br/>\n\n        <label>パスワード確認用：</label>\n        <input type=\"text\"\n          name=\"password_confirmation\" \n          onChange={handleChangePasswordConfirmation}\n        />\n\n        <br/>\n\n        <label>言語選択：</label>\n        <select onChange={handleChangeLanguage}>\n          {languages.map(language => \n            <option key={language.id} value={language.id}>\n              {language.name}\n            </option>)\n          }\n        </select>\n        <br/>\n        <button type=\"submit\">会員登録する</button>\n      </form>\n    </div>\n  )\n}\n\nexport default Signup;"]},"metadata":{},"sourceType":"module"}