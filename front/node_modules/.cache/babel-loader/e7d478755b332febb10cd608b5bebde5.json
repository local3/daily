{"ast":null,"code":"var _jsxFileName = \"/app/src/pages/UserEdit.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport axios from 'axios';\nimport { AuthContext } from \"../Auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction UserEdit() {\n  _s();\n\n  const initUser = {\n    email: auth.currentUser.email,\n    password: auth.currentUser.password,\n    passwordConfirmation: auth.currentUser.passwordConfirmation,\n    languageId: auth.currentUser.language_id\n  };\n  const [user, setUser] = useState(initUser);\n  const [languages, setLanguages] = useState([]);\n\n  const componentDidMount = () => {\n    axios.get(`/languages`).then(res => {\n      const languages = res.data;\n      setLanguages(languages); // console.log(languages)\n    });\n  };\n\n  useEffect(componentDidMount, []);\n\n  const handleChangeEmail = e => {\n    setUser({ ...user,\n      email: e.target.value\n    });\n  };\n\n  const handleChangePassword = e => {\n    setUser({ ...user,\n      password: e.target.value\n    });\n  };\n\n  const handleChangePasswordConfirmation = e => {\n    setUser({ ...user,\n      passwordConfirmation: e.target.value\n    });\n  };\n\n  const handleChangeLanguage = e => {\n    setUser({ ...user,\n      languageId: e.target.value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axios.patch(`/users`, {\n      user: user\n    }).then(res => {\n      console.log(res);\n    }).catch(res => {\n      console.log(res);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: \"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\\u5909\\u66F4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u5909\\u66F4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u8A00\\u8A9E\\u9078\\u629E\\uFF1A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: handleChangeLanguage,\n        children: languages.map(language => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: language.id,\n          selected: auth.currentUser.language_id === language.id ? true : false,\n          children: language.name\n        }, language.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"\\u8A2D\\u5B9A\\u3092\\u5909\\u66F4\\u3059\\u308B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(UserEdit, \"7Ku4Di8+CUkNisINMuJ81hAGPbw=\");\n\n_c = UserEdit;\nexport default UserEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserEdit\");","map":{"version":3,"sources":["/app/src/pages/UserEdit.js"],"names":["React","useState","useEffect","useContext","Link","Header","Footer","axios","AuthContext","UserEdit","initUser","email","auth","currentUser","password","passwordConfirmation","languageId","language_id","user","setUser","languages","setLanguages","componentDidMount","get","then","res","data","handleChangeEmail","e","target","value","handleChangePassword","handleChangePasswordConfirmation","handleChangeLanguage","handleSubmit","preventDefault","patch","console","log","catch","map","language","id","name"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useContext} from 'react'\nimport { Link } from 'react-router-dom'\nimport Header from '../components/Header'\nimport Footer from '../components/Footer'\nimport axios from 'axios';\nimport { AuthContext } from \"../Auth\";\n\nfunction UserEdit() {\n  const initUser =\n    {\n      email: auth.currentUser.email,\n      password: auth.currentUser.password,\n      passwordConfirmation: auth.currentUser.passwordConfirmation,\n      languageId: auth.currentUser.language_id\n    }\n  const [user, setUser] = useState(initUser);\n  const [languages, setLanguages] = useState([]);\n\n  const componentDidMount = () => {\n    axios.get(`/languages`)\n      .then(res => {\n        const languages = res.data;\n        setLanguages(languages);\n        // console.log(languages)\n      })\n  }\n\n  useEffect(componentDidMount, [])\n\n  const handleChangeEmail = (e) => {\n    setUser(\n      {\n\t\t\t\t...user,\n\t\t\t\temail: e.target.value\n\t\t\t}\n    );\n  };\n\n  const handleChangePassword = (e) => {\n    setUser(\n\t\t\t{\n\t\t\t\t...user,\n\t\t\t\tpassword: e.target.value\n\t\t\t}\n    );\n  };\n\n  const handleChangePasswordConfirmation = (e) => {\n    setUser(\n\t\t\t{\n\t\t\t\t...user,\n\t\t\t\tpasswordConfirmation: e.target.value\n\t\t\t}\n    );\n  };\n\n  const handleChangeLanguage = (e) => {\n    setUser(\n      {\n        ...user,\n        languageId: e.target.value\n      }\n    );\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    axios.patch(`/users`, {user: user})\n      .then(res =>{\n        console.log(res)\n      })\n\n      .catch(res =>{\n        console.log(res)\n      })\n  }\n\n  return(\n    <>\n      <form onSubmit={handleSubmit}>\n        <Link to={\"/\"}>メールアドレス変更</Link>\n\n        <br/>\n\n        <Link to={\"/\"}>パスワード変更</Link>\n\n        <br/>\n\n        <label>言語選択：</label>\n        <select onChange={handleChangeLanguage}>\n          {languages.map(language => \n            <option key={language.id} value={language.id} selected={auth.currentUser.language_id === language.id ? true : false}>\n              {language.name}\n            </option>)\n          }\n        </select>\n\n        <br/>\n\n        <button type=\"submit\">設定を変更する</button>\n      </form>\n    </>\n  )\n}\nexport default UserEdit;"]},"metadata":{},"sourceType":"module"}